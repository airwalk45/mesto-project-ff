{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/scripts/cards.js","webpack://mesto-project-ff/./src/scripts/modal.js","webpack://mesto-project-ff/./src/scripts/initialCards.js","webpack://mesto-project-ff/./src/scripts/validation.js","webpack://mesto-project-ff/./src/scripts/api.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["import { openModal } from \"./modal.js\";\n\n// @todo: Функция создания карточки\n\nfunction addCard(addCardObj, userID) {\n  const cardElement = addCardObj.cardTemplate\n    .querySelector(\".card\")\n    .cloneNode(true);\n\n  const deleteButton = cardElement.querySelector(\".card__delete-button\");\n  const likeButton = cardElement.querySelector(\".card__like-button\");\n  const imgElement = cardElement.querySelector(\".card__image\");\n  const likeNumber = cardElement.querySelector(\".card__like-number\");\n  const cardTitle = cardElement.querySelector(\".card__title\");\n\n  imgElement.src = addCardObj.item.link;\n  imgElement.alt = addCardObj.item.name;\n  cardTitle.textContent = addCardObj.item.name;\n  likeNumber.textContent = addCardObj.item.likes.length;\n\n  function hasMyLike(num) {\n    return num._id === userID;\n  }\n\n  if (addCardObj.item.likes.some(hasMyLike)) {\n    likeButton.classList.add(\"card__like-button_is-active\");\n  } else {\n    likeButton.classList.remove(\"card__like-button_is-active\");\n  }\n\n  likeButton.addEventListener(\"click\", addCardObj.addLikeToCard);\n\n  imgElement.addEventListener(\"click\", addCardObj.zoomCardImg);\n\n  if (addCardObj.item.owner._id === userID) {\n    deleteButton.addEventListener(\"click\", addCardObj.removeCard);\n  } else {\n    deleteButton.remove();\n  }\n\n  return cardElement;\n}\n\n// @todo: Функция удаления карточки\nfunction removeCardFromDom(cardElement) {\n  cardElement.remove();\n}\n\n// @todo: Функция лайка карточки\nfunction checkLikeCard(cardElement, newItem) {\n  const likeButton = cardElement.querySelector(\".card__like-button\");\n  const likeNumber = cardElement.querySelector(\".card__like-number\");\n  likeNumber.textContent = newItem.likes.length;\n  likeButton.classList.toggle(\"card__like-button_is-active\");\n}\n\nexport { addCard, removeCardFromDom, checkLikeCard };\n","// Функция открытия модального окна\r\nfunction openModal(domModal) {\r\n  domModal.classList.add(\"popup_is-opened\");\r\n  document.addEventListener(\"keydown\", closeModalEscape);\r\n}\r\n\r\n// Функция закрытия модального окна\r\nfunction closeModal(domModal) {\r\n  domModal.classList.remove(\"popup_is-opened\");\r\n  document.removeEventListener(\"keydown\", closeModalEscape);\r\n}\r\n\r\nfunction closeModalEscape(evt) {\r\n  if (evt.key === \"Escape\") {\r\n    const openedPopup = document.querySelector(\".popup_is-opened\");\r\n    closeModal(openedPopup);\r\n  }\r\n}\r\n\r\nexport { openModal, closeModal };\r\n","const initialCards = [\r\n  {\r\n    name: \"Архыз\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n  },\r\n  {\r\n    name: \"Челябинская область\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg\",\r\n  },\r\n  {\r\n    name: \"Иваново\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg\",\r\n  },\r\n  {\r\n    name: \"Камчатка\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg\",\r\n  },\r\n  {\r\n    name: \"Холмогорский район\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg\",\r\n  },\r\n  {\r\n    name: \"Байкал\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n  },\r\n];\r\n\r\nexport { initialCards };\r\n","// включение валидации вызовом enableValidation\r\n// все настройки передаются при вызове\r\n/*\r\nenableValidation({\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible'\r\n}); \r\n*/\r\n\r\nconst showInputError = (formElement, inputElement, errorClassObject) => {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.add(errorClassObject.inputErrorClass);\r\n  errorElement.textContent = inputElement.validationMessage;\r\n  errorElement.classList.add(errorClassObject.errorClass);\r\n};\r\n\r\nconst hideInputError = (formElement, inputElement, errorClassObject) => {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.remove(errorClassObject.inputErrorClass);\r\n  errorElement.classList.remove(errorClassObject.errorClass);\r\n  errorElement.textContent = \"\";\r\n};\r\n\r\nconst checkInputValidity = (formElement, inputElement, errorClassObject) => {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else if (inputElement.validity.valueMissing) {\r\n    inputElement.setCustomValidity(inputElement.dataset.emptyMessage);\r\n  } else {\r\n    inputElement.setCustomValidity(\"\");\r\n  }\r\n  if (!inputElement.validity.valid) {\r\n    showInputError(formElement, inputElement, errorClassObject);\r\n  } else {\r\n    hideInputError(formElement, inputElement, errorClassObject);\r\n  }\r\n};\r\n\r\nconst setEventListeners = (formElement, errorClassObject) => {\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(errorClassObject.inputSelector)\r\n  );\r\n  const buttonElement = formElement.querySelector(\r\n    errorClassObject.submitButtonSelector\r\n  );\r\n  //  toggleButtonState(inputList,buttonElement,errorClassObject);\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener(\"input\", function () {\r\n      checkInputValidity(formElement, inputElement, errorClassObject);\r\n      toggleButtonState(inputList, buttonElement, errorClassObject);\r\n    });\r\n  });\r\n};\r\n\r\nconst enableValidation = (errorClassObject) => {\r\n  const formList = Array.from(\r\n    document.querySelectorAll(errorClassObject.formSelector)\r\n  );\r\n  formList.forEach((formElement) => {\r\n    /*\r\n    formElement.addEventListener('submit', function (evt) {\r\n      evt.preventDefault();\r\n    });\r\n    */\r\n    setEventListeners(formElement, errorClassObject);\r\n  });\r\n};\r\n\r\nfunction hasInvalidInput(inputList) {\r\n  return inputList.some((inputElement) => {\r\n    return !inputElement.validity.valid;\r\n  });\r\n}\r\n\r\nfunction toggleButtonState(inputList, buttonElement, errorClassObject) {\r\n  if (hasInvalidInput(inputList)) {\r\n    buttonElement.classList.add(errorClassObject.inactiveButtonClass);\r\n  } else {\r\n    buttonElement.classList.remove(errorClassObject.inactiveButtonClass);\r\n  }\r\n}\r\n\r\n/*\r\nclearValidation(profileForm, validationConfig);\r\n */\r\n\r\nconst clearValidation = (formElement, errorClassObject) => {\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(errorClassObject.inputSelector)\r\n  );\r\n  const buttonElement = formElement.querySelector(\r\n    errorClassObject.submitButtonSelector\r\n  );\r\n  inputList.forEach((inputElement) => {\r\n    //  inputElement.addEventListener('input', function () {\r\n    hideInputError(formElement, inputElement, errorClassObject);\r\n    inputElement.setCustomValidity(\"\");\r\n    //  });\r\n  });\r\n  toggleButtonState(inputList, buttonElement, errorClassObject);\r\n};\r\n\r\nexport { enableValidation, clearValidation };\r\n","const apiToken = \"7e5bc3b7-9b3c-4476-a6ed-5dc02c289290\";\r\nconst apiId = \"wff-cohort-10\";\r\nconst apiServer = \"https://mesto.nomoreparties.co\";\r\n\r\n//Загрузка информации о пользователе с сервера\r\nconst getUserInfo = () => {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/users/me\", {\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n};\r\n\r\n//Загрузка карточек с сервера\r\nconst getCardsList = () => {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards\", {\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n};\r\n\r\n//Редактирование профиля\r\nfunction patchUserInfo(userInfo) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/users/me\", {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      authorization: apiToken,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      name: userInfo.name,\r\n      about: userInfo.about,\r\n    }),\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res;\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n}\r\n\r\n//Добавление новой карточки\r\nconst patchCard = (cardInfo) => {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      authorization: apiToken,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      name: cardInfo.name,\r\n      link: cardInfo.link,\r\n    }),\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n};\r\n\r\n//Удаление карточки\r\nfunction deleteCard(id) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards/\" + id, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res;\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n}\r\n\r\n//Постановка лайка\r\nfunction putLike(id) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards/likes/\" + id, {\r\n    method: \"put\",\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n}\r\n\r\n////Снятие лайка\r\nfunction deleteLike(id) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards/likes/\" + id, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n}\r\n\r\n//Редактирование аватара\r\nfunction patchUserAvatar(linkAvatarValue) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/users/me/avatar\", {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      authorization: apiToken,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      avatar: linkAvatarValue,\r\n    }),\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res;\r\n    }\r\n    return Promise.reject(res.status);\r\n  });\r\n}\r\n\r\nexport {\r\n  getUserInfo,\r\n  getCardsList,\r\n  patchUserInfo,\r\n  patchCard,\r\n  deleteCard,\r\n  putLike,\r\n  deleteLike,\r\n  patchUserAvatar,\r\n};\r\n","/*=====================\nБлок импорта\n=======================*/\nimport \"./pages/index.css\"; //Главный CSS\nimport { addCard, removeCardFromDom, checkLikeCard } from \"./scripts/cards.js\"; //функции карточек\nimport { openModal, closeModal } from \"./scripts/modal.js\"; //функции попапов\nimport { initialCards } from \"./scripts/initialCards.js\"; //базовые страницы при загрузке\nimport { enableValidation, clearValidation } from \"./scripts/validation.js\";\nimport {\n  getUserInfo,\n  getCardsList,\n  patchUserInfo,\n  patchCard,\n  deleteCard,\n  putLike,\n  deleteLike,\n  patchUserAvatar,\n} from \"./scripts/api.js\";\n\n/*=====================\nБлок констант\n=======================*/\nconst cardList = document.querySelector(\".places__list\"); // список карточек\nconst cardTemplate = document.querySelector(\"#card-template\").content; // темплейт карточки\nconst addCardObj = {\n  item: \"\",\n  removeCard: \"\",\n  cardTemplate: cardTemplate,\n  addLikeToCard: \"\",\n  zoomCardImg: zoomCardImg,\n}; // объект с необходимым содержимым для функции создания карточки\nconst buttonNewCard = document.querySelector(\".profile__add-button\"); // кнопка добавления новой карточки\nconst buttonEdit = document.querySelector(\".profile__edit-button\"); // кнопка редактирования заголовка страницы\nconst buttonEditAvatar = document.querySelector(\".profile__image\"); // кнопка редактирования заголовка страницы\n\nconst modalNewCard = document.querySelector(\".popup_type_new-card\"); // попап добавления новой карточки\nconst modalEdit = document.querySelector(\".popup_type_edit\"); // попап добавления новой карточки\nconst modalEditAvatar = document.querySelector(\".popup_type_edit-avatar\"); // попап добавления новой карточки\nconst modalImageZoom = document.querySelector(\".popup_type_image\"); // попап увеличенного просмотра карточки\n\nconst popups = document.querySelectorAll(\".popup\"); //Массив всех всплывающих окон с общим классом\n\nconst profileForm = document.querySelector('[name=\"edit-profile\"]'); // форма редактирования шапки страницы\nconst nameInput = profileForm.querySelector('[name=\"name\"]'); // поле ввода имени в форме для шапки страницы\nconst jobInput = profileForm.querySelector('[name=\"description\"]'); // поле ввода описания в форме для шапки страницы\n\nconst profileTitle = document.querySelector(\".profile__title\"); // имя в шапке страницы\nconst profileDescription = document.querySelector(\".profile__description\"); // описание в шапке страницы\nconst profileImg = document.querySelector(\".profile__image\"); // Изображение в шапке\n\nconst profileData = {\n  profileTitle: profileTitle,\n  profileDescription: profileDescription,\n  profileImg: profileImg,\n};\n\nconst formNewCard = document.querySelector('[name=\"new-place\"]');\nconst placeName = formNewCard.querySelector('[name=\"place-name\"]');\nconst linkUrl = formNewCard.querySelector('[name=\"link\"]');\n\nconst avatarForm = document.querySelector('[name=\"new-avatar\"]'); // форма редактирования шапки страницы\nconst avatarUrl = avatarForm.querySelector('[name=\"link\"]');\n\nconst modalDelete = document.querySelector(\".popup_type_confirm\"); // попап подтверждения удаления\nconst formDelete = modalDelete.querySelector('[name=\"delete-confirm\"]');\nlet cardForDelete = {};\n\n\nconst errorClassObject = {\n  formSelector: \".popup__form\",\n  inputSelector: \".popup__input\",\n  submitButtonSelector: \".popup__button\",\n  inactiveButtonClass: \"popup__button_disabled\",\n  inputErrorClass: \"popup__input_type_error\", //класс ошибки для поля ввода\n  errorClass: \"popup__error_visible\", //класс для текста ошибки под полем ввода\n};\n\n/*=====================\nБлок функций\n=======================*/\n// @todo: Функция zoom карточки\nfunction zoomCardImg(evt) {\n  const popupImage = document.querySelector(\".popup__image\"); //изображение на всплывающем окне \"Зум изображения\"\n  const popupCaption = document.querySelector(\".popup__caption\"); //подпись на всплывающем окне \"Зум изображения\"\n  popupImage.src = evt.target.src;\n  popupImage.alt = evt.target.alt;\n  popupCaption.textContent = evt.target.alt;\n  openModal(modalImageZoom);\n}\n\nformDelete.addEventListener('submit', (evt) => {\n  evt.preventDefault();\n  renderDeleting(true, evt);\n  deleteCard(cardForDelete._id)\n  .then(() => {\n    removeCardFromDom(cardForDelete.cardElement);\n    closeModal(modalDelete);    \n  })\n  .catch((err) => {\n    console.log(err);\n  })\n  .finally(() => {\n    renderDeleting(false, evt);\n  });\n})\n\nfunction addCardElement(item, method = \"prepend\", userID) {\n  addCardObj.item = item;\n  addCardObj.removeCard = () => {\n    cardForDelete._id = item._id;\n    cardForDelete.cardElement = cardElement;    \n    openModal(modalDelete);\n  };\n  addCardObj.addLikeToCard = (evt) => {\n    if (evt.target.classList.contains(\"card__like-button_is-active\")) {\n      deleteLike(item._id)\n        .then((newItem) => {\n          checkLikeCard(cardElement, newItem);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      putLike(item._id)\n        .then((newItem) => {\n          checkLikeCard(cardElement, newItem);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n  const cardElement = addCard(addCardObj, userID);\n  cardList[method](cardElement);\n}\n\n// добавление на попап плавного открытия и закрытия\nmodalNewCard.classList.add(\"popup_is-animated\");\nmodalEdit.classList.add(\"popup_is-animated\");\nmodalEditAvatar.classList.add(\"popup_is-animated\");\nmodalImageZoom.classList.add(\"popup_is-animated\");\n\n// Слушатель открытия popUp новой карты\nbuttonNewCard.addEventListener(\"click\", () => {\n  const formElement = modalNewCard.querySelector(errorClassObject.formSelector);\n  clearValidation(formElement, errorClassObject);\n  openModal(modalNewCard);\n});\n\n// Слушатель открытия popUp редактирования аватара\nbuttonEditAvatar.addEventListener(\"click\", () => {\n  const formElement = modalEditAvatar.querySelector(\n    errorClassObject.formSelector\n  );\n  clearValidation(formElement, errorClassObject);\n  openModal(modalEditAvatar);\n});\n\n// @Слушатель открытия popUp редактирования шапки страницы\nbuttonEdit.addEventListener(\"click\", () => {\n  nameInput.value = profileTitle.textContent;\n  jobInput.value = profileDescription.textContent;\n  const formElement = modalEdit.querySelector(errorClassObject.formSelector);\n  clearValidation(formElement, errorClassObject);\n  openModal(modalEdit);\n});\n\npopups.forEach((popup) => {\n  popup.addEventListener(\"mousedown\", (evt) => {\n    if (evt.target.classList.contains(\"popup_is-opened\")) {\n      closeModal(popup);\n    }\n    if (evt.target.classList.contains(\"popup__close\")) {\n      closeModal(popup);\n    }\n  });\n});\n\n// Обработчик «отправки» формы редактирования профиля\nfunction handleProfileFormSubmit(evt) {\n  evt.preventDefault();\n\n  const nameInputValue = nameInput.value;\n  const jobInputValue = jobInput.value;\n\n  profileTitle.textContent = nameInputValue;\n  profileDescription.textContent = jobInputValue;\n\n  const userInfo = {\n    name: nameInputValue,\n    about: jobInputValue,\n  };\n\n  renderLoading(true, evt);\n\n  patchUserInfo(userInfo)\n    .then(() => {\n      closePopupSubmit(evt);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      renderLoading(false, evt);\n    });\n}\n\n// слушатель «отправки» формы редактирования профиля\nprofileForm.addEventListener(\"submit\", handleProfileFormSubmit);\n\n// функция закрытия формы при отправке\nfunction closePopupSubmit(evt) {\n  const modal = evt.target.closest(\".popup_is-opened\");\n  closeModal(modal);\n}\n\n// Обработчик «отправки» формы дабавления карточки\nfunction handleCardFormSubmit(evt) {\n  evt.preventDefault();\n\n  const placeNameValue = placeName.value;\n  const linkUrlValue = linkUrl.value;\n\n  const newCardItem = {\n    name: placeNameValue,\n    link: linkUrlValue,\n  };\n  renderLoading(true, evt);\n\n  patchCard(newCardItem)\n    .then((item) => {\n      addCardElement(item, \"prepend\", item.owner._id);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      renderLoading(false, evt);\n    });\n\n  //addCardElement(newCardItem);\n  formNewCard.reset();\n\n  closePopupSubmit(evt);\n}\n\n// слушатель «отправки» формы добавления карточки\nformNewCard.addEventListener(\"submit\", handleCardFormSubmit);\n\nenableValidation(errorClassObject);\n\nfunction changeProfileData(profileData) {\n  profileTitle.textContent = profileData.name;\n  profileDescription.textContent = profileData.about;\n  profileImg.style = \"background-image: url(\" + profileData.avatar + \")\";\n}\n\nPromise.all([getUserInfo(), getCardsList()])\n  .then((results) => {\n    changeProfileData(results[0]);\n\n    results[1].forEach((item) => {\n      addCardElement(item, \"append\", results[0]._id);\n    });\n  })\n  .catch((err) => {\n    console.log(err);\n  });\n\n// Обработчик «отправки» формы изменения аватара\nfunction handleAvatarFormSubmit(evt) {\n  evt.preventDefault();\n  renderLoading(true, evt);\n  const linkAvatarValue = avatarUrl.value;\n  patchUserAvatar(linkAvatarValue)\n    .then(() => {\n      profileImg.style = \"background-image: url(\" + linkAvatarValue + \")\";\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      renderLoading(false, evt);\n    });\n\n  //addCardElement(newCardItem);\n  avatarForm.reset();\n\n  closePopupSubmit(evt);\n}\n\n// слушатель «отправки» формы редактирования профиля\navatarForm.addEventListener(\"submit\", handleAvatarFormSubmit);\n\nfunction renderLoading(isLoading, evt) {\n  const button = evt.target.querySelector(\".popup__button\");\n  if (isLoading) {\n    button.textContent = \"Сохранение...\";\n  } else {\n    button.textContent = \"Сохранить\";\n  }\n}\n\nfunction renderDeleting(isLoading, evt) {\n  const button = evt.target.querySelector(\".popup__button\");\n  if (isLoading) {\n    button.textContent = \"Удаляем...\";\n  } else {\n    button.textContent = \"Да\";\n  }\n}\n"],"names":["checkLikeCard","cardElement","newItem","likeButton","querySelector","textContent","likes","length","classList","toggle","openModal","domModal","add","document","addEventListener","closeModalEscape","closeModal","remove","removeEventListener","evt","key","hideInputError","formElement","inputElement","errorClassObject","errorElement","concat","id","inputErrorClass","errorClass","toggleButtonState","inputList","buttonElement","some","validity","valid","hasInvalidInput","inactiveButtonClass","clearValidation","Array","from","querySelectorAll","inputSelector","submitButtonSelector","forEach","setCustomValidity","apiToken","apiId","apiServer","cardList","addCardObj","item","removeCard","cardTemplate","content","addLikeToCard","zoomCardImg","popupImage","popupCaption","src","target","alt","modalImageZoom","buttonNewCard","buttonEdit","buttonEditAvatar","modalNewCard","modalEdit","modalEditAvatar","popups","profileForm","nameInput","jobInput","profileTitle","profileDescription","profileImg","formNewCard","placeName","linkUrl","avatarForm","avatarUrl","modalDelete","formDelete","cardForDelete","formSelector","addCardElement","method","arguments","undefined","userID","_id","contains","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","catch","err","console","log","putLike","cloneNode","deleteButton","imgElement","likeNumber","cardTitle","link","name","num","owner","addCard","closePopupSubmit","closest","renderLoading","isLoading","renderDeleting","preventDefault","finally","value","popup","nameInputValue","jobInputValue","userInfo","about","body","JSON","stringify","patchUserInfo","cardInfo","newCardItem","reset","patternMismatch","dataset","errorMessage","valueMissing","emptyMessage","validationMessage","showInputError","checkInputValidity","setEventListeners","enableValidation","all","results","profileData","style","avatar","linkAvatarValue","patchUserAvatar"],"sourceRoot":""}