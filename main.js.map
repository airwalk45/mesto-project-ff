{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/scripts/cards.js","webpack://mesto-project-ff/./src/scripts/modal.js","webpack://mesto-project-ff/./src/scripts/initialCards.js","webpack://mesto-project-ff/./src/scripts/validation.js","webpack://mesto-project-ff/./src/scripts/api.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["\n// @todo: Функция создания карточки\n\nfunction addCard(addCardObj, userID) {\n  const cardElement = addCardObj.cardTemplate\n    .querySelector(\".card\")\n    .cloneNode(true);\n\n  const deleteButton = cardElement.querySelector(\".card__delete-button\");\n  const likeButton = cardElement.querySelector(\".card__like-button\");\n  const imgElement = cardElement.querySelector(\".card__image\");\n  const likeNumber = cardElement.querySelector(\".card__like-number\");\n  const cardTitle = cardElement.querySelector(\".card__title\");\n\n  imgElement.src = addCardObj.item.link;\n  imgElement.alt = addCardObj.item.name;\n  cardTitle.textContent = addCardObj.item.name;\n  likeNumber.textContent = addCardObj.item.likes.length;\n\n  function hasMyLike(num) {\n    return num._id === userID;\n  }\n\n  if (addCardObj.item.likes.some(hasMyLike)) {\n    likeButton.classList.add(\"card__like-button_is-active\");\n  } \n\n  likeButton.addEventListener(\"click\", addCardObj.addLikeToCard);\n\n  imgElement.addEventListener(\"click\", addCardObj.zoomCardImg);\n\n  if (addCardObj.item.owner._id === userID) {\n    deleteButton.addEventListener(\"click\", addCardObj.removeCard);\n  } else {\n    deleteButton.remove();\n  }\n\n  return cardElement;\n}\n\n// @todo: Функция удаления карточки\nfunction removeCardFromDom(cardElement) {\n  cardElement.remove();\n}\n\n// @todo: Функция лайка карточки\nfunction checkLikeCard(cardElement, newItem) {\n  const likeButton = cardElement.querySelector(\".card__like-button\");\n  const likeNumber = cardElement.querySelector(\".card__like-number\");\n  likeNumber.textContent = newItem.likes.length;\n  likeButton.classList.toggle(\"card__like-button_is-active\");\n}\n\nexport { addCard, removeCardFromDom, checkLikeCard };\n","// Функция открытия модального окна\r\nfunction openModal(domModal) {\r\n  domModal.classList.add(\"popup_is-opened\");\r\n  document.addEventListener(\"keydown\", closeModalEscape);\r\n}\r\n\r\n// Функция закрытия модального окна\r\nfunction closeModal(domModal) {\r\n  domModal.classList.remove(\"popup_is-opened\");\r\n  document.removeEventListener(\"keydown\", closeModalEscape);\r\n}\r\n\r\nfunction closeModalEscape(evt) {\r\n  if (evt.key === \"Escape\") {\r\n    const openedPopup = document.querySelector(\".popup_is-opened\");\r\n    closeModal(openedPopup);\r\n  }\r\n}\r\n\r\nexport { openModal, closeModal };\r\n","const initialCards = [\r\n  {\r\n    name: \"Архыз\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n  },\r\n  {\r\n    name: \"Челябинская область\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg\",\r\n  },\r\n  {\r\n    name: \"Иваново\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg\",\r\n  },\r\n  {\r\n    name: \"Камчатка\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg\",\r\n  },\r\n  {\r\n    name: \"Холмогорский район\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg\",\r\n  },\r\n  {\r\n    name: \"Байкал\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n  },\r\n];\r\n\r\nexport { initialCards };\r\n","// включение валидации вызовом enableValidation\r\n// все настройки передаются при вызове\r\n/*\r\nenableValidation({\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible'\r\n}); \r\n*/\r\n\r\nconst showInputError = (formElement, inputElement, errorClassObject) => {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.add(errorClassObject.inputErrorClass);\r\n  errorElement.textContent = inputElement.validationMessage;\r\n  errorElement.classList.add(errorClassObject.errorClass);\r\n};\r\n\r\nconst hideInputError = (formElement, inputElement, errorClassObject) => {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.remove(errorClassObject.inputErrorClass);\r\n  errorElement.classList.remove(errorClassObject.errorClass);\r\n  errorElement.textContent = \"\";\r\n};\r\n\r\nconst checkInputValidity = (formElement, inputElement, errorClassObject) => {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else if (inputElement.validity.valueMissing) {\r\n    inputElement.setCustomValidity(inputElement.dataset.emptyMessage);\r\n  } else {\r\n    inputElement.setCustomValidity(\"\");\r\n  }\r\n  if (!inputElement.validity.valid) {\r\n    showInputError(formElement, inputElement, errorClassObject);\r\n  } else {\r\n    hideInputError(formElement, inputElement, errorClassObject);\r\n  }\r\n};\r\n\r\nconst setEventListeners = (formElement, errorClassObject) => {\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(errorClassObject.inputSelector)\r\n  );\r\n  const buttonElement = formElement.querySelector(\r\n    errorClassObject.submitButtonSelector\r\n  );\r\n  //  toggleButtonState(inputList,buttonElement,errorClassObject);\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener(\"input\", function () {\r\n      checkInputValidity(formElement, inputElement, errorClassObject);\r\n      toggleButtonState(inputList, buttonElement, errorClassObject);\r\n    });\r\n  });\r\n};\r\n\r\nconst enableValidation = (errorClassObject) => {\r\n  const formList = Array.from(\r\n    document.querySelectorAll(errorClassObject.formSelector)\r\n  );\r\n  formList.forEach((formElement) => {\r\n    /*\r\n    formElement.addEventListener('submit', function (evt) {\r\n      evt.preventDefault();\r\n    });\r\n    */\r\n    setEventListeners(formElement, errorClassObject);\r\n  });\r\n};\r\n\r\nfunction hasInvalidInput(inputList) {\r\n  return inputList.some((inputElement) => {\r\n    return !inputElement.validity.valid;\r\n  });\r\n}\r\n\r\nfunction toggleButtonState(inputList, buttonElement, errorClassObject) {\r\n  if (hasInvalidInput(inputList)) {\r\n    buttonElement.classList.add(errorClassObject.inactiveButtonClass);\r\n  } else {\r\n    buttonElement.classList.remove(errorClassObject.inactiveButtonClass);\r\n  }\r\n}\r\n\r\n/*\r\nclearValidation(profileForm, validationConfig);\r\n */\r\n\r\nconst clearValidation = (formElement, errorClassObject) => {\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(errorClassObject.inputSelector)\r\n  );\r\n  const buttonElement = formElement.querySelector(\r\n    errorClassObject.submitButtonSelector\r\n  );\r\n  inputList.forEach((inputElement) => {\r\n    //  inputElement.addEventListener('input', function () {\r\n    hideInputError(formElement, inputElement, errorClassObject);\r\n    inputElement.setCustomValidity(\"\");\r\n    //  });\r\n  });\r\n  toggleButtonState(inputList, buttonElement, errorClassObject);\r\n};\r\n\r\nexport { enableValidation, clearValidation };\r\n","const apiToken = \"7e5bc3b7-9b3c-4476-a6ed-5dc02c289290\";\r\nconst apiId = \"wff-cohort-10\";\r\nconst apiServer = \"https://mesto.nomoreparties.co\";\r\n\r\nconst handleResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(res.status);\r\n}\r\n\r\n//Загрузка информации о пользователе с сервера\r\nconst getUserInfo = () => {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/users/me\", {\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  }).then((res) => {\r\n    handleResponse(res)\r\n  });\r\n};\r\n\r\n//Загрузка карточек с сервера\r\nconst getCardsList = () => {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards\", {\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  }).then((res) => {\r\n    handleResponse(res)\r\n  });\r\n};\r\n\r\n//Редактирование профиля\r\nfunction patchUserInfo(userInfo) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/users/me\", {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      authorization: apiToken,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      name: userInfo.name,\r\n      about: userInfo.about,\r\n    }),\r\n  }).then((res) => {\r\n    handleResponse(res)\r\n  });\r\n}\r\n\r\n//Добавление новой карточки\r\nconst patchCard = (cardInfo) => {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      authorization: apiToken,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      name: cardInfo.name,\r\n      link: cardInfo.link,\r\n    }),\r\n  }).then((res) => {\r\n    handleResponse(res)\r\n  });\r\n};\r\n\r\n//Удаление карточки\r\nfunction deleteCard(id) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards/\" + id, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  })\r\n  .then((res) => {\r\n    handleResponse(res)\r\n  });\r\n}\r\n\r\n//Постановка лайка\r\nfunction putLike(id) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards/likes/\" + id, {\r\n    method: \"put\",\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  }).then((res) => {\r\n    handleResponse(res)\r\n  });\r\n}\r\n\r\n////Снятие лайка\r\nfunction deleteLike(id) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/cards/likes/\" + id, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      authorization: apiToken,\r\n    },\r\n  }).then((res) => {\r\n    handleResponse(res)\r\n  });\r\n}\r\n\r\n//Редактирование аватара\r\nfunction patchUserAvatar(linkAvatarValue) {\r\n  return fetch(apiServer + \"/v1/\" + apiId + \"/users/me/avatar\", {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      authorization: apiToken,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      avatar: linkAvatarValue,\r\n    }),\r\n  }).then((res) => {\r\n    handleResponse(res)\r\n  });\r\n}\r\n\r\nexport {\r\n  getUserInfo,\r\n  getCardsList,\r\n  patchUserInfo,\r\n  patchCard,\r\n  deleteCard,\r\n  putLike,\r\n  deleteLike,\r\n  patchUserAvatar,\r\n};\r\n","/*=====================\nБлок импорта\n=======================*/\nimport \"./pages/index.css\"; //Главный CSS\nimport { addCard, removeCardFromDom, checkLikeCard } from \"./scripts/cards.js\"; //функции карточек\nimport { openModal, closeModal } from \"./scripts/modal.js\"; //функции попапов\nimport { initialCards } from \"./scripts/initialCards.js\"; //базовые страницы при загрузке\nimport { enableValidation, clearValidation } from \"./scripts/validation.js\";\nimport {\n  getUserInfo,\n  getCardsList,\n  patchUserInfo,\n  patchCard,\n  deleteCard,\n  putLike,\n  deleteLike,\n  patchUserAvatar,\n} from \"./scripts/api.js\";\n\n/*=====================\nБлок констант\n=======================*/\nconst cardList = document.querySelector(\".places__list\"); // список карточек\nconst cardTemplate = document.querySelector(\"#card-template\").content; // темплейт карточки\nconst addCardObj = {\n  item: \"\",\n  removeCard: \"\",\n  cardTemplate: cardTemplate,\n  addLikeToCard: \"\",\n  zoomCardImg: zoomCardImg,\n}; // объект с необходимым содержимым для функции создания карточки\nconst buttonNewCard = document.querySelector(\".profile__add-button\"); // кнопка добавления новой карточки\nconst buttonEdit = document.querySelector(\".profile__edit-button\"); // кнопка редактирования заголовка страницы\nconst buttonEditAvatar = document.querySelector(\".profile__image\"); // кнопка редактирования заголовка страницы\n\nconst modalNewCard = document.querySelector(\".popup_type_new-card\"); // попап добавления новой карточки\nconst modalEdit = document.querySelector(\".popup_type_edit\"); // попап добавления новой карточки\nconst modalEditAvatar = document.querySelector(\".popup_type_edit-avatar\"); // попап добавления новой карточки\nconst modalImageZoom = document.querySelector(\".popup_type_image\"); // попап увеличенного просмотра карточки\n\nconst popups = document.querySelectorAll(\".popup\"); //Массив всех всплывающих окон с общим классом\n\nconst profileForm = document.querySelector('[name=\"edit-profile\"]'); // форма редактирования шапки страницы\nconst nameInput = profileForm.querySelector('[name=\"name\"]'); // поле ввода имени в форме для шапки страницы\nconst jobInput = profileForm.querySelector('[name=\"description\"]'); // поле ввода описания в форме для шапки страницы\n\nconst profileTitle = document.querySelector(\".profile__title\"); // имя в шапке страницы\nconst profileDescription = document.querySelector(\".profile__description\"); // описание в шапке страницы\nconst profileImg = document.querySelector(\".profile__image\"); // Изображение в шапке\n\nconst profileData = {\n  profileTitle: profileTitle,\n  profileDescription: profileDescription,\n  profileImg: profileImg,\n};\n\nconst formNewCard = document.querySelector('[name=\"new-place\"]');\nconst placeName = formNewCard.querySelector('[name=\"place-name\"]');\nconst linkUrl = formNewCard.querySelector('[name=\"link\"]');\n\nconst avatarForm = document.querySelector('[name=\"new-avatar\"]'); // форма редактирования шапки страницы\nconst avatarUrl = avatarForm.querySelector('[name=\"link\"]');\n\nconst modalDelete = document.querySelector(\".popup_type_confirm\"); // попап подтверждения удаления\nconst formDelete = modalDelete.querySelector('[name=\"delete-confirm\"]');\nlet cardForDelete = {};\n\n\nconst errorClassObject = {\n  formSelector: \".popup__form\",\n  inputSelector: \".popup__input\",\n  submitButtonSelector: \".popup__button\",\n  inactiveButtonClass: \"popup__button_disabled\",\n  inputErrorClass: \"popup__input_type_error\", //класс ошибки для поля ввода\n  errorClass: \"popup__error_visible\", //класс для текста ошибки под полем ввода\n};\n\n/*=====================\nБлок функций\n=======================*/\n// @todo: Функция zoom карточки\nfunction zoomCardImg(evt) {\n  const popupImage = document.querySelector(\".popup__image\"); //изображение на всплывающем окне \"Зум изображения\"\n  const popupCaption = document.querySelector(\".popup__caption\"); //подпись на всплывающем окне \"Зум изображения\"\n  popupImage.src = evt.target.src;\n  popupImage.alt = evt.target.alt;\n  popupCaption.textContent = evt.target.alt;\n  openModal(modalImageZoom);\n}\n\nformDelete.addEventListener('submit', (evt) => {\n  evt.preventDefault();\n  renderDeleting(true, evt);\n  deleteCard(cardForDelete._id)\n  .then(() => {\n    removeCardFromDom(cardForDelete.cardElement);\n    closeModal(modalDelete);    \n  })\n  .catch((err) => {\n    console.log(err);\n  })\n  .finally(() => {\n    renderDeleting(false, evt);\n  });\n})\n\nfunction addCardElement(item, method = \"prepend\", userID) {\n  addCardObj.item = item;\n  addCardObj.removeCard = () => {\n    cardForDelete._id = item._id;\n    cardForDelete.cardElement = cardElement;    \n    openModal(modalDelete);\n  };\n  addCardObj.addLikeToCard = (evt) => {\n    if (evt.target.classList.contains(\"card__like-button_is-active\")) {\n      deleteLike(item._id)\n        .then((newItem) => {\n          checkLikeCard(cardElement, newItem);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      putLike(item._id)\n        .then((newItem) => {\n          checkLikeCard(cardElement, newItem);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n  const cardElement = addCard(addCardObj, userID);\n  cardList[method](cardElement);\n}\n\n// добавление на попап плавного открытия и закрытия\nmodalNewCard.classList.add(\"popup_is-animated\");\nmodalEdit.classList.add(\"popup_is-animated\");\nmodalEditAvatar.classList.add(\"popup_is-animated\");\nmodalImageZoom.classList.add(\"popup_is-animated\");\n\n// Слушатель открытия popUp новой карты\nbuttonNewCard.addEventListener(\"click\", () => {\n  const formElement = modalNewCard.querySelector(errorClassObject.formSelector);\n  clearValidation(formElement, errorClassObject);\n  openModal(modalNewCard);\n});\n\n// Слушатель открытия popUp редактирования аватара\nbuttonEditAvatar.addEventListener(\"click\", () => {\n  const formElement = modalEditAvatar.querySelector(\n    errorClassObject.formSelector\n  );\n  clearValidation(formElement, errorClassObject);\n  openModal(modalEditAvatar);\n});\n\n// @Слушатель открытия popUp редактирования шапки страницы\nbuttonEdit.addEventListener(\"click\", () => {\n  nameInput.value = profileTitle.textContent;\n  jobInput.value = profileDescription.textContent;\n  const formElement = modalEdit.querySelector(errorClassObject.formSelector);\n  clearValidation(formElement, errorClassObject);\n  openModal(modalEdit);\n});\n\npopups.forEach((popup) => {\n  popup.addEventListener(\"mousedown\", (evt) => {\n    if (evt.target.classList.contains(\"popup_is-opened\")) {\n      closeModal(popup);\n    }\n    if (evt.target.classList.contains(\"popup__close\")) {\n      closeModal(popup);\n    }\n  });\n});\n\n// Обработчик «отправки» формы редактирования профиля\nfunction handleProfileFormSubmit(evt) {\n  evt.preventDefault();\n\n  const nameInputValue = nameInput.value;\n  const jobInputValue = jobInput.value;\n\n  profileTitle.textContent = nameInputValue;\n  profileDescription.textContent = jobInputValue;\n\n  const userInfo = {\n    name: nameInputValue,\n    about: jobInputValue,\n  };\n\n  renderLoading(true, evt);\n\n  patchUserInfo(userInfo)\n    .then(() => {\n      closePopupSubmit(evt);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      renderLoading(false, evt);\n    });\n}\n\n// слушатель «отправки» формы редактирования профиля\nprofileForm.addEventListener(\"submit\", handleProfileFormSubmit);\n\n// функция закрытия формы при отправке\nfunction closePopupSubmit(evt) {\n  const modal = evt.target.closest(\".popup_is-opened\");\n  closeModal(modal);\n}\n\n// Обработчик «отправки» формы дабавления карточки\nfunction handleCardFormSubmit(evt) {\n  evt.preventDefault();\n\n  const placeNameValue = placeName.value;\n  const linkUrlValue = linkUrl.value;\n\n  const newCardItem = {\n    name: placeNameValue,\n    link: linkUrlValue,\n  };\n  renderLoading(true, evt);\n\n  patchCard(newCardItem)\n    .then((item) => {\n      addCardElement(item, \"prepend\", item.owner._id);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      renderLoading(false, evt);\n    });\n\n  //addCardElement(newCardItem);\n  formNewCard.reset();\n\n  closePopupSubmit(evt);\n}\n\n// слушатель «отправки» формы добавления карточки\nformNewCard.addEventListener(\"submit\", handleCardFormSubmit);\n\nenableValidation(errorClassObject);\n\nfunction changeProfileData(profileData) {\n  profileTitle.textContent = profileData.name;\n  profileDescription.textContent = profileData.about;\n  profileImg.style = \"background-image: url(\" + profileData.avatar + \")\";\n}\n\nPromise.all([getUserInfo(), getCardsList()])\n  .then((results) => {\n    changeProfileData(results[0]);\n\n    results[1].forEach((item) => {\n      addCardElement(item, \"append\", results[0]._id);\n    });\n  })\n  .catch((err) => {\n    console.log(err);\n  });\n\n// Обработчик «отправки» формы изменения аватара\nfunction handleAvatarFormSubmit(evt) {\n  evt.preventDefault();\n  renderLoading(true, evt);\n  const linkAvatarValue = avatarUrl.value;\n  patchUserAvatar(linkAvatarValue)\n    .then(() => {\n      profileImg.style = \"background-image: url(\" + linkAvatarValue + \")\";\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      renderLoading(false, evt);\n    });\n\n  //addCardElement(newCardItem);\n  avatarForm.reset();\n\n  closePopupSubmit(evt);\n}\n\n// слушатель «отправки» формы редактирования профиля\navatarForm.addEventListener(\"submit\", handleAvatarFormSubmit);\n\nfunction renderLoading(isLoading, evt) {\n  const button = evt.target.querySelector(\".popup__button\");\n  if (isLoading) {\n    button.textContent = \"Сохранение...\";\n  } else {\n    button.textContent = \"Сохранить\";\n  }\n}\n\nfunction renderDeleting(isLoading, evt) {\n  const button = evt.target.querySelector(\".popup__button\");\n  if (isLoading) {\n    button.textContent = \"Удаляем...\";\n  } else {\n    button.textContent = \"Да\";\n  }\n}\n"],"names":["checkLikeCard","cardElement","newItem","likeButton","querySelector","textContent","likes","length","classList","toggle","openModal","domModal","add","document","addEventListener","closeModalEscape","closeModal","remove","removeEventListener","evt","key","hideInputError","formElement","inputElement","errorClassObject","errorElement","concat","id","inputErrorClass","errorClass","toggleButtonState","inputList","buttonElement","some","validity","valid","hasInvalidInput","inactiveButtonClass","clearValidation","Array","from","querySelectorAll","inputSelector","submitButtonSelector","forEach","setCustomValidity","apiToken","apiId","apiServer","handleResponse","res","ok","json","Promise","reject","status","cardList","addCardObj","item","removeCard","cardTemplate","content","addLikeToCard","zoomCardImg","popupImage","popupCaption","src","target","alt","modalImageZoom","buttonNewCard","buttonEdit","buttonEditAvatar","modalNewCard","modalEdit","modalEditAvatar","popups","profileForm","nameInput","jobInput","profileTitle","profileDescription","profileImg","formNewCard","placeName","linkUrl","avatarForm","avatarUrl","modalDelete","formDelete","cardForDelete","formSelector","addCardElement","method","arguments","undefined","userID","_id","contains","fetch","headers","authorization","then","catch","err","console","log","putLike","cloneNode","deleteButton","imgElement","likeNumber","cardTitle","link","name","num","owner","addCard","closePopupSubmit","closest","renderLoading","isLoading","renderDeleting","preventDefault","finally","value","popup","nameInputValue","jobInputValue","userInfo","about","body","JSON","stringify","patchUserInfo","cardInfo","newCardItem","reset","patternMismatch","dataset","errorMessage","valueMissing","emptyMessage","validationMessage","showInputError","checkInputValidity","setEventListeners","enableValidation","all","results","profileData","style","avatar","linkAvatarValue","patchUserAvatar"],"sourceRoot":""}